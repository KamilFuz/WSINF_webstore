<!DOCTYPE html>
<html lang="pl" xmlns:th="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/html">

<head th:replace="common/header :: common-header"/>

<body>

<div th:replace="common/header :: navbar"/>

<!-- Main component for a primary marketing message or call to action -->
<div class="container">
    <div class="row" style="margin-bottom: -100px;">
        <div class="col-xs-8">
            <h2 class="section-headline"><span>Moje konto</span></h2>
        </div>
        <div class="col-xs-4">
            <img src="/image/logo.png" class="img-responsive" style="margin-bottom: -150px;"/>
        </div>
    </div>
    <hr style="position:absolute; width:100%; height:6px; background-color: #333; z-index:-1; margin-top: -60px;"/>
    <!--<div class="col-xs-8">-->
    <img class="img-responsive" src="/image/wood.png" style="margin-top: -65px; margin-bottom: 25px;"/>
    <!--</div>-->
    <!--<div class="col-xs-4"></div>-->

    <div class="row" style="margin-top:10px;">
        <form th:action="@{/checkout}" method="post">

            <!-- Left Panel -->
            <div class="col-xs-4">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <button type="submit" class="btn btn-warning btn-block">Twoje zamówienie</button>
                        <p style="font-size:smaller;">Składając zamóienie zgadzasz się z nasza<a href="#">polityką prywatności</a> i <a href="#">regulaminem</a> naszego sklepu.</p>
                        <hr/>
                        <h3>Podsumowanie zamówienia</h3>
                        <div class="row">
                            <div class="col-xs-7 text-left">
                                Suma netto:
                            </div>
                            <div class="col-xs-5 text-right"><span th:text="${shoppingCart.grandTotal}"></span> Zł
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-7 text-left">
                                <h3 style="color:darkred;"><strong>Suma brutto </strong></h3>
                            </div>
                            <div class="col-xs-5 text-right">
                                <h3><strong style="color:darkred;"><span
                                        th:with="total=${shoppingCart.grandTotal+shoppingCart.grandTotal*0.23}"
                                        th:text="${#numbers.formatDecimal(total, 0 ,2)}"></span></strong> Zł</h3>
                            </div>
                        </div>
                        <div class="panel-footer">Dane dostawy oraz płatności jeszcze nie zostały dodane.</div>
                    </div>
                </div>
            </div>

            <!-- Checkout Info -->
            <div class="col-xs-8">
                <div th:if=${missingRequiredField}>
                    <h5 class="alert alert-warning">Pola oznaczone * są wymagane</h5>
                </div>

                <div class="panel-group" id="accordion">

                    <!-- 1. Shipping Address -->
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" data-parent="#accordion"
                                   href="#shippingInfo"> 1. Addres dostawy</a>
                            </h4>
                        </div>
                        <div id="shippingInfo" class="panel-collapse collapse"
                             th:classappend="${classActiveShipping}? 'in'">
                            <div class="panel-body">
                                <table class="table" th:if="${not emptyShippingList}">
                                    <thead>
                                    <tr>
                                        <th>Dostępne adresy</th>
                                        <th>Operacje</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr th:each="userShipping : ${userShippingList}">
                                        <td
                                                th:text="${userShipping.userShippingStreet1}+' '+${userShipping.userShippingStreet2}+', '+${userShipping.userShippingCity}
												+', '+${userShipping.userShippingState}"></td>
                                        <td><a
                                                th:href="${/setShippingAddress(userShippingId=${userShipping.id})}">Użyj tego adresu</a></td>
                                    </tr>
                                    </tbody>
                                </table>

                                <div class="form-group">
                                    <label for="shippingName">* Imię i nazwisko (nazwa firmy)</label> <input type="text" class="form-control" id="shippingName" placeholder="Imię i nazwisko lub mazwa firmy." name="shippingAddressName" th:value="${shippingAddress.shippingAddressName}" />
                                </div>

                                <div class="form-group">
                                    <label for="shippingStreet">* Ulica 1</label> <input type="text" class="form-control" id="shippingStreet" placeholder="Ulica 1" name="shippingAddressStreet1" th:value="${shippingAddress.shippingAddressStreet1}" />
                                </div>
                                <div class="form-group">
                                    <input type="text" class="form-control" placeholder="Ulica 2" name="shippingAddressStreet2" th:value="${shippingAddress.shippingAddressStreet2}" />
                                </div>

                                <div class="row">
                                    <div class="row">
                                        <div class="col-xs-4">
                                            <div class="form-group">
                                                <label for="shippingCity">* Miasto</label>
                                                <input type="text" class="form-control" id="shippingCity" placeholder="Miasto" th:name="shippingAddressCity" required="required" th:value="${shippingAddress.shippingAddressCity}"/>
                                            </div>
                                        </div>
                                        <div class="col-xs-4">
                                            <div class="form-group">
                                                <label for="shippingState">* Województwo</label> <select
                                                    id="shippingState" class="form-control"
                                                    th:name="shippingAddressState"
                                                    th:value="${shippingAddress.shippingAddressState}"
                                                    required="required">
                                                <option value="" disabled="disabled">Wybierz województwo</option>
                                                <option th:each="state : ${stateList}" th:text="${state}"
                                                        th:selected="(${shippingAddress.shippingAddressState}==${state})"></option>
                                            </select>
                                            </div>
                                        </div>
                                        <div class="col-xs-4">
                                            <div class="form-group">
                                                <label for="shippingZipcode">* Kod pocztowy</label> <input
                                                    type="text" class="form-control" id="shippingZipcode"
                                                    placeholder="Kod pocztowy"
                                                    th:name="shippingAddressZipcode" required="required"
                                                    th:value="${shippingAddress.shippingAddressZipcode}"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <a data-toggele="collapse" data-parent="#accordion" class="btn btn-warning pull-right" href="#paymentInfo">Następny krok</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <!--end of caontainer-->
</div>
</body>
</html>
